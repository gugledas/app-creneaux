(("undefined"!==typeof self?self:this)["webpackJsonpappCreneau"]=("undefined"!==typeof self?self:this)["webpackJsonpappCreneau"]||[]).push([[2],{"6a1c":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:t.testRequest}},[t._v("test request")])])},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"outline-success",size:"sm"},on:{click:t.onSubmit}},[n("span",[t._v(t._s(t.texte))]),t.running?n("b-icon",{staticClass:"ml-2",attrs:{icon:"arrow-clockwise",animation:"spin-pulse"}}):t._e()],1)],1)},a=[],r={name:"ButtonSave",props:{running:{type:Boolean,required:!0},texte:{type:String,default:"Enregistrer"}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{onSubmit:function(){this.$emit("ev-click")}}},c=r,u=n("2877"),l=Object(u["a"])(c,s,a,!1,null,"29246a2e",null),d=(l.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.DeleteFile}},[n("span",[t._v(" "+t._s(t.texte)+" ")]),t.running?n("b-icon",{staticClass:"ml-2",attrs:{icon:"arrow-clockwise",animation:"spin-pulse"}}):t._e()],1)],1)}),f=[],p={name:"ButtonDelete",props:{running:{type:Boolean,required:!0},texte:{type:String,default:"Supprimer"}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{DeleteFile:function(){this.$emit("ev-click")}}},h=p,m=Object(u["a"])(h,d,f,!1,null,"0b82f270",null),v=(m.exports,n("1c24"),n("869e"),n("82e4"),n("c26d"),n("a9ce"),n("9a6c"),n("7973"),n("47d8"),n("6b54")),g=n.n(v),b=g.a.create({timeout:3e5}),w={axiosInstance:b,TestDomain:null,BaseUrl:function(){return(window.location.host.includes("localhost")||window.location.host.includes(".kksa"))&&this.TestDomain?this.TestDomain.trim("/"):window.location.protocol+"//"+window.location.host},post:function(t,e,n){var o=this;return new Promise((function(i,s){var a=t.includes("://")?t:o.BaseUrl()+t;b.post(a,e,n).then((function(t){i({status:!0,data:t.data,reponse:t})})).catch((function(t){s({status:!1,error:t.response,code:t.code,stack:t.stack})}))}))},get:function(t,e){var n=this;return new Promise((function(o,i){var s=t.includes("://")?t:n.BaseUrl()+t;b.get(s,e).then((function(t){o({status:!0,data:t.data,reponse:t})})).catch((function(t){i({status:!1,error:t.response,code:t.code,stack:t.stack})}))}))},postFile:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(i,s){n.getBase64(e).then((function(a){var r=new Headers;console.log("headers : ",r);var c=e.name.split("."),u={method:"POST",headers:r,body:JSON.stringify({upload:a.base64,filename:c[0],ext:c[1],id:o}),cache:"default"},l=t.includes("://")?t:n.BaseUrl()+t;fetch(l,u).then((function(t){t.json().then((function(t){i(t)})).catch((function(t){s(t)}))}))}))}))},getBase64:function(t){return new Promise((function(e,n){var o=new FileReader;o.readAsDataURL(t),o.onloadend=function(){var t=o.result.split(",");e({src:o.result,base64:t[1]})},o.onerror=function(t){return n(t)}}))}},k=w,T=n("5530"),y=n("8bbf"),B=n.n(y),S=n("0ae9"),x=n("1be5");B.a.use(S["a"]),B.a.use(x["a"]);var _=new B.a,j=(Object(T["a"])(Object(T["a"])({},k),{},{$bvToast:_.$bvToast,$bvModal:_.$bvModal,modalMessage:function(t,e){var n=this,o={size:"md",buttonSize:"sm",hideFooter:!0,centered:!0};for(var i in e)o[i]=e[i];return new Promise((function(e,i){console.log("confDefault : ",o),n.$bvModal.msgBoxConfirm(t,o).then((function(t){e(t)})).catch((function(t){i(t)}))}))},modalConfirmDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Confirmer la suppression, NB : cette action est irreverssible.",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{title:"Attention",okVariant:"danger",okTitle:"Supprimer",cancelTitle:"Annuler",footerClass:"p-2"};return this.modalMessage(t,e)},modalSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={title:"Succes",headerBgVariant:"success",bodyClass:["p-3"],hideFooter:!0,headerTextVariant:"light"};for(var o in e)n[o]=e[o];return this.modalMessage(t,n)},notification:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.$bvToast.toast(" ",{title:t,variant:e,solid:!0,toaster:"b-toaster-top-right"})},post:function(t,e,n){var o=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(s,a){k.post(t,e,n).then((function(t){i&&o.notification("success"),s(t)})).catch((function(t){o.notification(o.GetErrorTitle(t),"warning"),a(t)}))}))},get:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,s){k.get(t,e).then((function(t){o&&n.notification("success"),i(t)})).catch((function(t){n.notification(n.GetErrorTitle(t),"warning"),s(t)}))}))},GetErrorTitle:function(t){var e;if(t.code)switch(t.code){case"ECONNABORTED":var n=this.axiosInstance.defaults.timeout/1e3+"s";e="Impossible de joindre l'hote distant, temps impartie epuisÃ©. ("+n+")";break;default:e="Une erreur s'est produite"}else t.error&&t.error.statusText&&(e=decodeURI(t.error.statusText));return e}}),n("066b")),O={post:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://stephane-kouwa.myshopify.com/admin/api/2021-07/products.json";Object(j["getSessionToken"])(window.app).then((function(e){var n={headers:{Authorization:"Bearer ".concat(e)}};k.get(t,n)}))},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://stephane-kouwa.myshopify.com";Object(j["getSessionToken"])(window.app).then((function(e){var n={headers:{Authorization:"Bearer ".concat(e)}};k.get(t,n)}))},getHost:function(t,e){return k.post(t,e)}},$={name:"TestRequestshopify",props:{shop:{type:String,required:!0}},methods:{testRequest:function(){var t=this;Object(j["getSessionToken"])(window.app).then((function(e){O.getHost("/shopify-api-rest/request/LoadMetafields?token="+e+"&shop="+t.shop,{endPoint:"/admin/api/2021-07/products.json"})}))}}},C=$,D=Object(u["a"])(C,o,i,!1,null,null,null);e["default"]=D.exports}}]);
//# sourceMappingURL=appCreneau.umd.min.2.js.map